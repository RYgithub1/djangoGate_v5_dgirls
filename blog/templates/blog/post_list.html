{% extends 'blog/base.html' %}
{% block content %}

  {% for post in posts %}
    <div class="post">
      <div class="date">
        <p>published: {{ post.published_date }}</p>
      </div>

      <!-- 下記はblog/urls.pyの、name=post_detail のURLを待ち受ける事を意味 -->
      <h2><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h2>

      <!-- linebreaksbrフィルタ＝プレーンテキスト改行を HTML改行 (<br />) タグに変換 -->
      <p>{{ post.text|linebreaksbr }}</p>

      <!-- 投稿一覧ページで、コメント数を訪問者にお知らせ -->
      <a href="{% url 'post_detail' pk=post.pk %}">Comments: {{ post.approved_comments.count }}</a>
    </div>
  {% endfor %}

{% endblock %}

